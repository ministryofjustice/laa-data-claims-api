# Default values for data-stewardship-payments.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 2

image:
  repository: null
  tag: null

service_account:
  name: irsa-sqs-laa-data-claims-api-staging

service:
  type: ClusterIP
  port: 8080
  management:
    port: 8081

ingress:
  enabled: false

ingressInternal:
  enabled: true
  className: internal-non-prod
  annotations:
    external-dns.alpha.kubernetes.io/set-identifier: "laa-data-claims-api-internal-laa-data-claims-api-staging-green"
    external-dns.alpha.kubernetes.io/aws-weight: "100"
  hosts: 
    - "laa-data-claims-api-staging.internal-non-prod.cloud-platform.service.justice.gov.uk"

resources:
  limits:
    cpu: 1000m
    memory: 1G
  requests:
    cpu: 25m
    memory: 1G

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 8
  targetCPUUtilizationPercentage: 60
  targetMemoryUtilizationPercentage: 70

grafana:
  enabled: true

resilience4j.ratelimiter:
  instances:
    basicLimiter:
      limitForPeriod: 1000
      limitRefreshPeriod: 1s
      timeoutDuration: 0
      registerHealthIndicator: true
      eventConsumerBufferSize: 100